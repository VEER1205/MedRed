<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>MedRed • Dashboard</title>
  <link rel="stylesheet" href="/static/dashboard.css" />
</head>
<body>
  <!-- NAV -->
  <header class="navbar">
    <div class="nav-inner">
      <a class="brand" href="/">
        <div class="logo"><svg width="18" height="18" viewBox="0 0 24 24" fill="#fff"><path d="M12 2L4 5v6.09c0 5.05 3.41 9.76 8 10.91 4.59-1.15 8-5.86 8-10.91V5l-8-3zm-1 16h2v-6h-2v6zm0-8h2V6h-2v4z"/></svg></div>
        <span class="brand-name">MedRed</span>
      </a>
      <div style="position: relative;">
        <div class="avatar" id="navUserAvatar">JD</div>
        <div class="user-menu" id="userMenu">
          <a href="/profile" class="menu-item">
            <span></span>
            <span>My Profile</span>
          </a>
          <a href="/settings" class="menu-item">
            <span></span>
            <span>Settings</span>
          </a>
          <a href="/appointments" class="menu-item">
            <span></span>
            <span>Appointments</span>
          </a>
          <div class="menu-divider"></div>
          <button class="menu-item danger" onclick="if(confirm('Are you sure you want to logout?')) window.location.href='/logout'">
            <span></span>
            <span>Logout</span>
          </button>
        </div>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- HEADER -->
    <div class="header">
      <div>
        <div class="title">Welcome back, <span id="welcomeName">John</span></div>
        <div class="subtitle">Your personalized health overview.</div>
      </div>
      <div class="actions">
        <button class="btn" id="cancelBtn" hidden>Cancel</button>
        <button class="btn btn-primary" id="editBtn">✏️ Edit Profile</button>
        <button class="btn btn-primary" id="saveBtn" hidden>Save Changes</button>
      </div>
    </div>

    <!-- MEDICAL 3D DNA LINE -->
    <div class="dna-strip" aria-hidden="true">
      <div class="dna-scene">
        <div class="dna" id="dnaRoot"></div>
      </div>
    </div>

    <!-- GRID -->
    <section class="grid">
      <!-- PERSONAL -->
      <article class="card">
        <div class="card-header">
          <div class="icon"></div>
          <div class="card-title">Personal Information</div>
        </div>
        <div class="rows">
          <div class="row">
            <div class="label">Full Name</div>
            <div class="value">
              <div class="display" id="fullName_display"></div>
              <div class="editor">
                <input class="input" id="fullName_input" type="text" placeholder="Your full name" required>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="label">Mobile</div>
            <div class="value">
              <div class="display" id="mobileNumber_display"></div>
              <div class="editor">
                <input class="input" id="mobileNumber_input" type="tel" inputmode="tel" autocomplete="tel" placeholder="+91 1234567890" required>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="label">Gender</div>
            <div class="value">
              <div class="display" id="gender_display"></div>
              <div class="editor">
                <input class="input" id="gender_input" type="text" placeholder="Male / Female / Other" required>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="label">Birth Date</div>
            <div class="value">
              <div class="display" id="birthDate_display"></div>
              <div class="editor">
                <input class="input" id="birthDate_input" type="date" required>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="label">Blood Group</div>
            <div class="value">
              <div class="display" id="bloodGroup_display"></div>
              <div class="editor">
                <input class="input" id="bloodGroup_input" type="text" placeholder="e.g., O+, A-, AB+">
              </div>
            </div>
          </div>
        </div>
      </article>

      <!-- ADDRESS -->
      <article class="card">
        <div class="card-header">
          <div class="icon"></div>
          <div class="card-title">Address</div>
        </div>
        <div class="rows">
          <div class="row">
            <div class="label">Street</div>
            <div class="value">
              <div class="display" id="streetAddress_display"></div>
              <div class="editor">
                <input class="input" id="streetAddress_input" type="text" autocomplete="address-line1" placeholder="Street address" required>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="label">City</div>
            <div class="value">
              <div class="display" id="city_display"></div>
              <div class="editor">
                <input class="input" id="city_input" type="text" autocomplete="address-level2" placeholder="City" required>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="label">State</div>
            <div class="value">
              <div class="display" id="state_display"></div>
              <div class="editor">
                <input class="input" id="state_input" type="text" autocomplete="address-level1" placeholder="State" required>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="label">PIN</div>
            <div class="value">
              <div class="display" id="pinCode_display"></div>
              <div class="editor">
                <input class="input" id="pinCode_input" type="text" inputmode="numeric" autocomplete="postal-code" placeholder="6-digit PIN" required>
              </div>
            </div>
          </div>
        </div>
      </article>

      <!-- MEDICAL -->
      <article class="card">
        <div class="card-header">
          <div class="icon"></div>
          <div class="card-title">Medical Information</div>
        </div>
        <div class="rows">
          <div class="row">
            <div class="label">Allergies</div>
            <div class="value">
              <div class="display" id="allergies_display"></div>
              <div class="editor">
                <input class="input" id="allergies_input" type="text" placeholder="None">
              </div>
            </div>
          </div>
          <div class="row">
            <div class="label">Conditions</div>
            <div class="value">
              <div class="display" id="medicalConditions_display"></div>
              <div class="editor">
                <input class="input" id="medicalConditions_input" type="text" placeholder="None">
              </div>
            </div>
          </div>
          <div class="row">
            <div class="label">Emergency Contact</div>
            <div class="value">
              <div class="display" id="emergencyContact_display"></div>
              <div class="editor">
                <input class="input" id="emergencyContact_input" type="tel" inputmode="tel" autocomplete="tel" placeholder="+91 1234567890">
              </div>
            </div>
          </div>
        </div>
      </article>

      <!-- REMINDERS -->
      <article class="card reminders">
        <div class="card-header" style="justify-content:space-between;">
          <div style="display:flex; align-items:center; gap:10px;">
            <div class="icon"></div>
            <div class="card-title">Today's Reminders</div>
          </div>
          <div class="btn" style="pointer-events:none;">Count: <strong id="reminderCount" style="margin-left:6px;">0</strong></div>
        </div>
        <div class="rem-list" id="reminderList"></div>
      </article>
    </section>
  </main>

  <div class="toast" id="toast"></div>
  <script src="/static/dashboard.js"></script>
</body>
</html>